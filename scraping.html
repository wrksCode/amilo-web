
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AnimeDrive Scraper</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        h1, h2 { color: #333; }
        code { background-color: #f4f4f4; padding: 5px; font-size: 1em; }
        pre { background-color: #f4f4f4; padding: 10px; border-radius: 5px; }
        .language { margin-top: 30px; }
    </style>
</head>
<body>

<div>
    <button onclick="setLanguage('en')">English</button>
    <button onclick="setLanguage('hu')">Magyar</button>
</div>

<div id="en" class="language">
    <h1>AnimeDrive Scraper ‚Äì A Simple Rust Web Scraper for Anime Links</h1>
    <p>Web scraping is a powerful tool for extracting data from websites. In this article, we'll explore how easy it is to scrape content using a simple Rust program. Our example will focus on scraping <a href="https://animedrive.hu/">AnimeDrive.hu</a> for direct video links, but the same principles can apply to various websites.</p>
    <p><strong>‚ö†Ô∏è Legal Disclaimer:</strong> This code is <em>for educational purposes only</em>. The legality of scraping AnimeDrive is uncertain, and scraping may violate their terms of service. Use this code <em>at your own risk</em>!</p>
    <p>You can even combine this scraper with the <a href="https://docs.anilist.co" target="_blank">Anilist API</a> to automatically track and search for anime episodes. Once you know the anime's Anilist ID, the API can convert it a MyAnimeList ID and use that for scraping.</p>

    <h3>üß† What Does This Program Do?</h3>
    <p>The program follows these steps:</p>
    <ul>
        <li>Retrieves the anime's AnimeDrive ID based on the MyAnimeList ID.</li>
        <li>Constructs the video player link.</li>
        <li>Loads the video player HTML page.</li>
        <li>Extracts the highest quality video link.</li>
        <li>Saves it to <code>video_link.txt</code>.</li>
    </ul>

    <h3>‚öôÔ∏è Dependencies</h3>
    <p>You'll need the following crates for this program:</p>
    <pre><code>
# Cargo.toml
[dependencies]
reqwest = { version = "0.11", features = ["blocking"] }
regex = "1.7"
    </code></pre>

    <h3>üì¶ Build and Run</h3>
    <ol>
        <li>Clone or copy the code into a new Rust project.</li>
        <li>Add the dependencies to <code>Cargo.toml</code>.</li>
        <li>Build and run the project with:</li>
    </ol>
    <pre><code>cargo run</code></pre>
    <p>The output will be saved in <code>video_link.txt</code>, containing the direct video URL.</p>

    <h3>üí° Example</h3>
    <p>By default, the program fetches episode 8 of <em>Sousou no Frieren</em> (MAL ID: <code>52991</code>). It automatically retrieves, loads, and processes the episode for you.</p>

    <h3>üîç How It Works</h3>

    <h4>1. Retrieve AnimeDrive ID</h4>
    <p>We start by searching AnimeDrive with the MyAnimeList link:</p>
    <pre><code>
let search_url = format!("https://animedrive.hu/search/?q=https://myanimelist.net/anime/{}", mal_id);
    </code></pre>

    <h4>2. Fetch Player Page</h4>
    <p>Once we have the ID, we construct the player page URL:</p>
    <pre><code>
let url = format!("https://player.animedrive.hu/player_wee.php?id={}&amp;ep={}", id, episode);
    </code></pre>

    <h4>3. Extract HTML</h4>
    <p>The entire HTML page is fetched, and you can save it for debugging:</p>
    <pre><code>
let response_html = get_html(&client, anime_drive_link);
    </code></pre>

    <h4>4. Extract Video Link with Regex</h4>
    <p>We use regex to find the highest quality video link from the JavaScript code in the HTML:</p>
    <pre><code>
let re = Regex::new(r#"src:\s*'([^']+)'.*?size:\s*(\d+)"#).unwrap();
    </code></pre>

    <h3>üìÅ Output Files</h3>
    <ul>
        <li><code>video_link.txt</code> ‚Äì Contains the video URL.</li>
        <li><code>response.html</code> ‚Äì The full HTML of the player page (for debugging).</li>
    </ul>
</div>

<div id="hu" class="language">
    <h1>AnimeDrive Scraper ‚Äì Vide√≥ link kinyer≈ë</h1>
    <p>A web scraping egy nagyszer≈± eszk√∂z az adatok kinyer√©s√©re weboldalakr√≥l. Ebben a cikkben bemutatjuk, mennyire egyszer≈± scraping-et v√©gezni egy alap Rust programmal. A p√©lda az <a href="https://animedrive.hu/">AnimeDrive.hu</a> oldalr√≥l val√≥ vide√≥ linkek kinyer√©s√©re √∂sszpontos√≠t, de ugyanazok az elvek m√°s weboldalakra is alkalmazhat√≥ak.</p>
    <p><strong>‚ö†Ô∏è Jogi Nyilatkozat:</strong> Ez a k√≥d <em>csak oktat√°si c√©lb√≥l</em> k√©sz√ºlt. Az AnimeDrive oldal jogi st√°tusza nem tiszt√°zott, √©s a scraping megs√©rtheti a szolg√°ltat√°si felt√©teleiket. Haszn√°lata <em>saj√°t felel≈ëss√©gre t√∂rt√©nik</em>!</p>
    <p>A scraper-t ak√°r kombin√°lhatod az <a href="https://docs.anilist.co" target="_blank">Anilist API-val</a>, hogy automatikusan k√∂vesd √©s keresd az anime epiz√≥dokat. Ha m√°r tudod az anime Anilist ID-j√°t, az API seg√≠ts√©g√©vel k√∂nnyed√©n konvert√°lhatod MyAnimeList ID-ra.</p>

    <h3>üß† Mit Csin√°l A Program?</h3>
    <p>A program a k√∂vetkez≈ë l√©p√©seket hajtja v√©gre:</p>
    <ul>
        <li>Az anime MyAnimeList ID-j√°t √©s epiz√≥d sz√°m√°t veszi.</li>
        <li>Lek√©ri a megfelel≈ë AnimeDrive ID-t.</li>
        <li>Fel√©p√≠ti a vide√≥lej√°tsz√≥ linket.</li>
        <li>Bet√∂lti a vide√≥lej√°tsz√≥ HTML oldalt.</li>
        <li>Kinyeri a legjobb min≈ës√©g≈± vide√≥ linket.</li>
        <li>Elmenti a <code>video_link.txt</code> f√°jlba.</li>
    </ul>

    <h3>‚öôÔ∏è F√ºgg≈ës√©gek</h3>
    <p>A k√≥d m≈±k√∂d√©s√©hez az al√°bbi crate-ek sz√ºks√©gesek:</p>
    <pre><code>
# Cargo.toml
[dependencies]
reqwest = { version = "0.11", features = ["blocking"] }
regex = "1.7"
    </code></pre>

    <h3>üì¶ Build √©s Futtat√°s</h3>
    <ol>
        <li>Kl√≥nozd vagy m√°sold le a k√≥dot egy Rust projektbe.</li>
        <li>Add hozz√° a sz√ºks√©ges f√ºgg≈ës√©geket a <code>Cargo.toml</code>hoz.</li>
        <li>Buildeld √©s futtasd:</li>
    </ol>
    <pre><code>cargo run</code></pre>
    <p>A kimenet a <code>video_link.txt</code> f√°jlban lesz, amely tartalmazza a vide√≥ k√∂zvetlen URL-j√©t.</p>

    <h3>üí° P√©lda</h3>
    <p>A k√≥dban alap√©rtelmezetten a *Sousou no Frieren* (MAL ID: <code>52991</code>) 8. epiz√≥dja van be√°ll√≠tva. Ez a r√©sz automatikusan megkeres√©sre, bet√∂lt√©sre √©s feldolgoz√°sra ker√ºl.</p>

    <h3>üîç Hogyan M≈±k√∂dik?</h3>

    <h4>1. AnimeDrive ID Lek√©r√©se</h4>
    <p>A MyAnimeList link alapj√°n keres√ºnk az AnimeDrive-on:</p>
    <pre><code>
let search_url = format!("https://animedrive.hu/search/?q=https://myanimelist.net/anime/{}", mal_id);
    </code></pre>

    <h4>2. Player Oldal Lek√©r√©se</h4>
    <p>Miut√°n megvan az ID, gener√°ljuk a lej√°tsz√≥ oldal linkj√©t:</p>
    <pre><code>
let url = format!("https://player.animedrive.hu/player_wee.php?id={}&amp;ep={}", id, episode);
    </code></pre>

    <h4>3. HTML Kinyer√©s</h4>
    <p>A teljes HTML oldalt let√∂ltj√ºk, √©s elmenthetj√ºk a hibakeres√©shez:</p>
    <pre><code>
let response_html = get_html(&client, anime_drive_link);
    </code></pre>

    <h4>4. Vide√≥ Link Kinyer√©se Regex-szel</h4>
    <p>A JavaScript k√≥db√≥l regex-szel kinyerj√ºk a legjobb min≈ës√©g≈± vide√≥ linket:</p>
    <pre><code>
let re = Regex::new(r#"src:\s*'([^']+)'.*?size:\s*(\d+)"#).unwrap();
    </code></pre>

    <h3>üìÅ Kimeneti F√°jlok</h3>
    <ul>
        <li><code>video_link.txt</code> ‚Äì A vide√≥ URL-je.</li>
        <li><code>response.html</code> ‚Äì A lej√°tsz√≥ oldal teljes HTML k√≥dja (debug c√©lokra).</li>
    </ul>
</div>

<script>
    function setLanguage(language) {
      // Hide all language sections
      document.querySelectorAll('.language').forEach(function(element) {
        element.style.display = 'none';
      });

      // Show the selected language
      document.getElementById(language).style.display = 'block';
    }

    // Set the default language
    setLanguage('en');
  </script>

</body>
</html>
